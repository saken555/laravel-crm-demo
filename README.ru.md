[Read in English](README.md)

# Демо CRM на Laravel (с функциональными тестами)

Простая CRM-система, созданная на фреймворке Laravel 11. Проект был изначально создан с базовой функциональностью, а затем прошел рефакторинг с внедрением концепций чистой архитектуры.

Проект демонстрирует понимание ключевых концепций Laravel, паттернов чистой архитектуры (Form Requests, Policies, Service Layer), связей между таблицами, автоматического тестирования и рабочего процесса с Git (Feature Branch Workflow, Pull Requests). Среда разработки полностью контейнеризирована с помощью Docker и Laravel Sail.

## Скриншот
![Dashboard Screenshot](https://github.com/saken555/laravel-crm-demo/blob/main/img.png?raw=true)

## Основные возможности

* **Аутентификация:** Регистрация и вход пользователей (Laravel Breeze).
* **Дашборд:** Сводная статистика по клиентам, контактам и сделкам.
* **CRUD для Клиентов, Контактов, Сделок:** Полный цикл операций (Создание, Чтение, Редактирование, Удаление) для всех ключевых сущностей CRM.
* **Связи в базе данных:** Реализованы отношения "Один ко многим" (Клиент -> Контакты, Клиент -> Сделки).

## Технический стек и продемонстрированные концепции

* **Бэкенд:** PHP 8.3, Laravel 11
* **Фронтенд:** Blade, Tailwind CSS
* **База данных:** SQLite
* **Среда разработки:** Docker, Laravel Sail
* **Архитектура и паттерны:**
    * MVC (Model-View-Controller)
    * **Сервисный Слой:** Бизнес-логика инкапсулирована в Сервисных классах, сохраняя контроллеры "тонкими".
    * **Form Requests:** Логика валидации отделена от контроллеров в специальные классы-запросы.
    * **Policies:** Логика авторизации вынесена в классы Политик для определения прав доступа пользователей.
* **Тестирование:**
    * Функциональные тесты, написанные с помощью **PHPUnit**.
    * Использование базы данных SQLite в памяти для быстрых и изолированных тестов.
* **Инструменты:** Git, GitHub, Composer, NPM

## Инструкция по установке и запуску (через Docker & Sail)

Проект настроен для запуска с помощью Laravel Sail. Единственное требование — установленный [Docker Desktop](https://www.docker.com/products/docker-desktop/).

1.  Клонируйте репозиторий:
    ```bash
    git clone [https://github.com/saken555/laravel-crm-demo.git](https://github.com/saken555/laravel-crm-demo.git)
    ```
2.  Перейдите в папку проекта:
    ```bash
    cd laravel-crm-demo
    ```
3.  Создайте копию файла `.env.example`:
    ```bash
    cp .env.example .env
    ```
4.  Установите PHP-зависимости через временный Docker-контейнер:
    ```bash
    docker run --rm \
        -u "$(id -u):$(id -g)" \
        -v "$(pwd):/var/www/html" \
        -w /var/www/html \
        laravelsail/php83-composer:latest \
        composer install --ignore-platform-reqs
    ```
5.  Запустите контейнеры Sail в фоновом режиме:
    ```bash
    ./vendor/bin/sail up -d
    ```
6.  Сгенерируйте ключ приложения:
    ```bash
    ./vendor/bin/sail artisan key:generate
    ```
7.  Запустите миграции базы данных:
    ```bash
    ./vendor/bin/sail artisan migrate
    ```
8.  Приложение готово к работе и доступно по адресу **http://localhost**.